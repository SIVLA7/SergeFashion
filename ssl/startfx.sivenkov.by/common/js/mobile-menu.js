!function(t,e){"use strict";"object"==typeof exports?module.exports=e():e()}(0,function(){"use strict";function t(t,e){if("#"===t.charAt(0)){var i=t;t=t.substr(1),console.warn('You used "'+i+'", a jQuery-like selector for your menu selector. This must be written without the "#" and has been converted to "'+t+'" for you.')}for(var o in this.wrapper=document.getElementById(t),this.options={btnIcon:"hamburger",btnPosition:"left",mobileWidth:991},e)e.hasOwnProperty(o)&&(this.options[o]=e[o]);this.init()}t.prototype.init=function(){this.checkForErrors(),this.detectViewportSize(),window.addEventListener("resize",this.detectViewportSize.bind(this)),this.addMobileMainToggleBtn(),this.addMobileSubToggleBtns(),this.listenForMobileSubExpand()},t.prototype.checkForErrors=function(){if(null===this.wrapper)throw new Error("The element you declared for KoalaNav could not be found in the DOM. Are you sure it exists in your HTML?");var t,e;("left"!==this.options.btnPosition&&"right"!==this.options.btnPosition&&(console.warn("You did not enter a valid btnPosition argument on #"+this.wrapper.id+'. You used "'+this.options.btnPosition+'" instead. Now using default btnPosition value.'),this.options.btnPosition="left"),"hamburger"!==this.options.btnIcon&&"arrow"!==this.options.btnIcon&&(console.warn("You did not enter a valid btnIcon argument on #"+this.wrapper.id+'. You used "'+this.options.btnIcon+'" instead. Now using default btnIcon value.'),this.options.btnIcon="hamburger"),"string"==typeof this.options.mobileWidth)&&(e=this.options.mobileWidth,t=/px|em|rem/gi,this.options.mobileWidth=this.options.mobileWidth.replace(t,""),this.options.mobileWidth=parseInt(this.options.mobileWidth),console.warn("You used a unit in your mobileWidth argument on #"+this.wrapper.id+'. Your value was "'+e+'" but has been converted to '+this.options.mobileWidth+". The mobileWidth option is an integer interpreted as a pixel value."));this.options.mobileWidth<100&&(console.warn("You did not enter a mobileWidth value greater than or equal to 100 pixels on #"+this.wrapper.id+'. You used "'+this.options.mobileWidth+'" instead. Now using default mobileWidth value.'),this.options.mobileWidth=500)},t.prototype.detectViewportSize=function(){window.innerWidth<=this.options.mobileWidth?this.addMobileClass():this.addDesktopClass()},t.prototype.addMobileClass=function(){0!==this.wrapper.className.search(/navigation-menu--is-mobile/)&&(this.wrapper.className="navigation-menu--is-mobile")},t.prototype.checkToggleStatus=function(){var t=this;0<t.parentNode.className.search(/child-menu-open/)?("A"!==t.tagName&&(t.innerHTML="+"),t.parentNode.className=t.parentNode.className.replace(/child-menu-open/,"")):("A"!==t.tagName&&(t.innerHTML="&times;"),t.parentNode.className+=" child-menu-open")},t.prototype.listenForMobileSubExpand=function(){var e=this;e.wrapper.childNodes[0].nextElementSibling.addEventListener("click",function(t){"SPAN"==t.target.nodeName&&e.checkToggleStatus.call(t.target)})},t.prototype.addMobileMainToggleBtn=function(){var t;if(this.wrapper.insertAdjacentHTML("afterbegin",'<a class="navigation-menu__mobile-toggle" data-icon="'+this.options.btnIcon+'"></a>'),!this.wrapper.childNodes[0])throw new Error("Could not locate the main toggle button for mobile. Check your HTML to ensure it matches the README example.");(t=this.wrapper.childNodes[0]).addEventListener("click",this.checkToggleStatus),"right"===this.options.btnPosition&&(t.className+=" btn-align-right")},t.prototype.addMobileSubToggleBtns=function(){for(var t=this.wrapper.getElementsByTagName("li"),e=0;e<t.length;e++)t[e].getElementsByTagName("ul")[0]&&(t[e].className="has-child-menu",t[e].insertAdjacentHTML("afterbegin","<span>+</span>"))},t.prototype.addDesktopClass=function(){0!==this.wrapper.className.search(/navigation-menu--is-desktop/)&&(this.wrapper.className="navigation-menu--is-desktop")},window.KoalaNav=t});
